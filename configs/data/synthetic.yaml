# Data configuration: Synthetic cemetery data
# Use with: data=synthetic
# For RGB-only: data=synthetic data.use_dem=false data.input_channels=3

# Data paths
root: ${paths.data}/synthetic
orthophotos_dir: ${data.root}/orthophotos
dems_dir: ${data.root}/dems
masks_dir: ${data.root}/masks
annotations_path: ${data.root}/annotations/synthetic_annotations.gpkg

# Train/Val/Test split by cemetery ID
train_cemeteries: ["synthetic_01", "synthetic_02"]
val_cemeteries: ["synthetic_03"]
test_cemeteries: ["synthetic_04"]

# Tiling configuration
tiling:
  tile_size: 512
  overlap: 0.15
  min_mask_coverage: 0.01

# Input: RGB + DEM = 4 channels (set use_dem=false, input_channels=3 for RGB-only)
use_dem: true
input_channels: 4

# DEM normalization configuration
# Applied to full cemetery DEMs at setup time, before tiling
dem:
  normalization:
    method: zscore  # zscore, percentile_clip, local_height, slope, robust_zscore

    # Method-specific parameters (only the selected method's params are used)
    zscore:
      epsilon: 1.0e-8

    percentile_clip:
      lower: 2.0
      upper: 98.0

    local_height:
      window_size: 128       # pixels
      ground_percentile: 20.0
      max_height: 0.5        # meters

    slope:
      pixel_size: 0.02       # meters per pixel

    robust_zscore:
      epsilon: 1.0e-8

# DataLoader settings
batch_size: 8
num_workers: 4
# Let the DataModule choose a sensible, device-aware default for pin_memory
